/*
 * Server, implementing the Raft consensus protocol
 * 
 * The Raft Consensus Algorithm
 * https://raft.github.io/
 * 
 * author: Eric Dortmans (e.dortmans@fontys.nl)
 */

import ConsensusModule.dzn;
import Log.dzn;
import StateMachine.dzn;
import RPC.dzn;

component Server
{
  provides IServer ctrl; 
  requires IRPC rpc;
 
  system
  {// Each server has a state machine and a log
  	ConsensusModule consensus;
  	Log log;
    StateMachine statemachine;
    
    ctrl <=> consensus.ctrl;
    consensus.statemachine <=> statemachine.ctrl;
    consensus.log <=> log.ctrl;
        
    consensus.rpc <=> rpc;

  }
}
 